<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <style>
        table {
            font-family: "Trebuchet MS", sans-serif;
            font-size: 16px;
            line-height: 2em;
            font-style: normal;
            border-collapse:collapse;
            border-spacing: 0;
            border-style:solid;
            width:100%;
            margin:10px;
        }
        table td{
            border:1px solid #cccccc;
            text-align:center;
        }
    </style>


</head>

<body>
<table cellpadding="0" cellspacing="0" summary="yc_32">
<tbody>
<tr>
<td>人数</td>
<td>30人</td>
<td>注意</td>
<td colspan="5">.........</td>
</tr>
<tr>
<td rowspan="2">第四周(32班)</td>
<td>date1</td>
<td>date2</td>
<td>date3</td>
<td>date4</td>
<td>date5</td>
<td>date6</td>
<td>date7</td>
</tr>
<tr>
<td>星期一</td>
<td>星期二</td>
<td>星期三</td>
<td>星期四</td>
<td>星期五</td>
<td>星期六</td>
<td>星期七</td>
</tr>
<tr>
<td>8:30-10:30</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>10:30-12:00</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>14:00-15:30</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>15:30-17:30</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>19:00-20:30</td>
<td>
<span></span>
</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>20:30-22:00</td>
<td>
<span></span>
</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<script src="js/jquery-1.9.1.js"></script>
<script>
    var count=1;
    var a=[];//所有满足条件的数组
	var obj=[];//满足坐标的数组
    var d1="2017-05-06";var d2="2017-5-7";var d3="2017-5-8";var d4="2017-5-9";var d5="2017-5-10";var d6="2017-5-11";var d7="2017-5-12";
    var teacherid=2;
    //测试arr
    var arr={"'26'": [
        ["2","96","1","8:30-10:30","2017-05-06"],["2","96","1","10:30-12:00","2017-05-06"],
        ["2","96","1","19:00-20:30","2017-05-06"],["2","96","1","20:30-22:00","2017-05-06"],
        ["4","97","1","14:00-15:30","2017-05-06"],["4","97","1","15:30-17:30","2017-05-06"],
        ["2","99","2","19:00-20:30","2017-5-7"],["2","99","1","20:30-22:00","2017-5-7"],
        ["3","96","2","19:00-20:30","2017-5-8"],["3","97","2","20:30-22:00","2017-5-8"],
        ["2","100","2","19:00-20:30","2017-5-9"],["2","100","2","20:30-22:00","2017-5-9"],
        ["2","101","3","15:30-17:30","2017-5-9"],["2","101","3","14:00-15:30","2017-5-9"],
        ["2","102","2","10:30-12:00","2017-5-9"],["2","102","2","8:30-10:30","2017-5-9"],
        ["-1","-2","-1","20:30-22:00","2017-5-10"],["-1","-2","-1","19:00-20:30","2017-5-10"],
        ["2","110","1","8:30-10:30","2017-5-11"],["2","110","1","10:30-12:00","2017-5-11"],
        ["2","100","1","14:00-15:30","2017-5-11"],["-1","-1","-1","15:30-17:30","2017-5-11"],
        ["-1","-2","-1","19:00-20:30","2017-5-11"],["-1","-2","-1","20:30-22:00","2017-5-11"]
    ], "'28'": [
        ["2","96","1","19:00-20:30","2017-05-06"],["2","96","1","20:30-22:00","2017-05-06"],
        ["2","100","1","19:00-20:30","2017-5-7"],["2","100","1","20:30-22:00","2017-5-7"],
        ["3","96","2","19:00-20:30","2017-5-8"],["3","96","2","20:30-22:00","2017-5-8"],
        ["4","96","2","14:00-15:30","2017-5-8"],["4","96","2","15:30-17:30","2017-5-8"]
    ], "'29'":[
        ["2","96","1","19:00-20:30","2017-05-06"],["2","96","1","20:30-22:00","2017-05-06"],
        ["2","95","1","19:00-20:30","2017-5-7"],["2","95","2","20:30-22:00","2017-5-7"],
        ["2","95","2","19:00-20:30","2017-5-8"],["3","95","2","15:30-17:30","2017-5-8"],
        ["2","96","3","20:30-22:00","2017-5-8"],["2","95","2","14:00-15:30","2017-5-8"]
    ]
    };
//得到相对应的老师的纪录
    function makea(arr) {
        for(var i in arr){
            for(j=0;j<Object.getOwnPropertyNames(arr[i]).length-1;j++){
                if(arr[i][j][0]==teacherid){
                    var ll=arr[i][j];
                    ll.push(/[0-9]+/.exec(i));
                    a.push(ll);
                }
            }
        }
        count=2;
    }
    makea(arr);
    //得到后填入表格
    if(count=2){
        for(var i=0;i<a.length;i++){
            obj=maketable(a[i]);
            $("table").find("tr").eq(obj.a).find("td").eq(obj.b).append(a[i][1]+"<"+a[i][2]+">("+a[i][5]+")");
        }
    }
    //得到每个的坐标
    function maketable(arr) {
        var a,b;
        for(var i=0;i<arr.length;i++){
            var time=arr[3];
            switch (time){
                case "8:30-10:30":
                    a=3;
                    break;
                case "10:30-12:00":
                    a=4;
                    break;
                case "14:00-15:30":
                    a=5;
                    break;
                case "15:30-17:30":
                    a=6;
                    break;
                case "19:00-20:30":
                    a=7;
                    break;
                case "20:30-22:00":
                    a=8;
                    break;

            }
            var date=arr[4];
            switch (date){
                case d1:
                    b=1;
                    break;
                case d2:
                    b=2;
                    break;
                case d3:
                    b=3;
                    break;
                case d4:
                    b=4;
                    break;
                case d5:
                    b=5;
                    break;
                case d6:
                    b=6;
                    break;
                case d7:
                    b=7;
                    break;
            }
        }
        return {a,b};
    }
</script>
</body>
</html>